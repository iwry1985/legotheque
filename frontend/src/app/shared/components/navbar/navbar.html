<nav class="navbar" [class.scrolled]="scrolled">
  <div class="nav-left">
    <a routerLink="/"><img src="logo.png" alt="Legothèque" class="logo" /></a>
  </div>

  <div class="nav-center">
    <a routerLink="/home" routerLinkActive="active">Accueil</a>
    <!-- <a routerLink="/collection" routerLinkActive="active">Ma collection</a>
    <a routerLink="/wanted" routerLinkActive="active">Liste de souhaits</a> -->
    <a routerLink="/lego/list" routerLinkActive="active">Parcourir</a>
  </div>

  <div class="search">
    <form (ngSubmit)="submit()">
      <input
        pInputText
        [(ngModel)]="search"
        placeholder="Rechercher un set..."
        name="search"
      />
    </form>
  </div>

  <div class="nav-right">
    @if(authService.connectedUser()) {
    <div class="user-menu" (click)="toggleMenu()" tabindex="0">
      <div class="user-info flex">
        <i class="pi pi-user"></i>
        <span>{{ authService.connectedUser()?.username }}</span>
        <i class="pi pi-chevron-down"></i>
      </div>

      @if(showMenu) {
      <div class="dropdown">
        <a routerLink="/profil">Profil</a>
        <a routerLink="/dashboard" [queryParams]="{range: 'all'}">Dashboard</a>
      </div>
      }
    </div>

    <p-button
      label="Déconnexion"
      (click)="authService.logout()"
      [severity]="scrolled ? 'secondary' : 'primary'"
    ></p-button>
    } @else {
    <p-button label="Connexion" routerLink="/login"></p-button>
    <p-button label="Inscription" routerLink="inscription"></p-button>
    }
  </div>
</nav>
